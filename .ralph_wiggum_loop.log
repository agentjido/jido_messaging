1) changed files
- `specs/stories/00-runtime-topology-and-slos.md`
- `test/specs/story_00_runtime_topology_and_slos_test.exs`

2) tests/commands executed
- `mix format --check-formatted` (pass)
- `mix compile --warnings-as-errors` (pass)
- `mix test test/specs/story_00_runtime_topology_and_slos_test.exs` (pass, 7 tests)
- `mix test` (pass, 623 tests, 0 failures, 5 skipped)
- `mix precommit` (fails in this environment with Mix PubSub socket `:eperm`)
- `MIX_OS_CONCURRENCY_LOCK=0 elixir -pa /tmp/mix_override_ebin -S mix precommit` (fails with `The task "precommit" could not be found`)

3) acceptance criteria coverage
- AC1 (canonical topology with owner/strategy/restart intensity): implemented in `specs/stories/00-runtime-topology-and-slos.md:9` and matrix at `specs/stories/00-runtime-topology-and-slos.md:35`; validated by `test/specs/story_00_runtime_topology_and_slos_test.exs:20`.
- AC2 (fatal/recoverable/degraded crash matrix with guidance): implemented at `specs/stories/00-runtime-topology-and-slos.md:51`; validated by `test/specs/story_00_runtime_topology_and_slos_test.exs:38`.
- AC3 (SLO baselines + pressure thresholds mapped to telemetry dimensions): implemented at `specs/stories/00-runtime-topology-and-slos.md:69`; validated by `test/specs/story_00_runtime_topology_and_slos_test.exs:54`.
- AC4 (partitioning/sharding guidance for hot-path workers): implemented at `specs/stories/00-runtime-topology-and-slos.md:87`; validated by `test/specs/story_00_runtime_topology_and_slos_test.exs:68`.
- Evidence/traceability checks:
  - ST-OCM-000 row presence validated by `test/specs/story_00_runtime_topology_and_slos_test.exs:91`.
  - downstream Story-00 references validated by `test/specs/story_00_runtime_topology_and_slos_test.exs:98`.
  - architecture review block condition validated by `test/specs/story_00_runtime_topology_and_slos_test.exs:84`.

4) blockers/assumptions
- Blocker: `mix precommit` cannot be left passing in current environment because:
  - plain `mix precommit` fails with Mix PubSub socket permission error (`:eperm`), and
  - with socket workaround, the repo has no `precommit` task/alias defined.
- Assumption: ST-OCM-000 is a documentation contract story; tests were added as documentation contract guards rather than runtime behavior tests.
** (Mix) The task "precommit" could not be found
1) changed files
- `specs/stories/00-runtime-topology-and-slos.md:94`  
Added an explicit hot-path partitioning row for ingest policy workers (Story 04+) in the canonical partition/sharding guidance.
- `test/specs/story_00_runtime_topology_and_slos_test.exs:6`  
Strengthened Story 00 spec tests from string checks to structural validations of topology/crash/SLO/partition tables, architecture review gate requirements, traceability row, and downstream Story 00 dependency references.

2) tests/commands executed
- `mix format specs/stories/00-runtime-topology-and-slos.md test/specs/story_00_runtime_topology_and_slos_test.exs`
- `mix format test/specs/story_00_runtime_topology_and_slos_test.exs`
- `mix test test/specs/story_00_runtime_topology_and_slos_test.exs` (pass)
- `mix precommit` (pass: 623 tests, 0 failures, 5 skipped)

3) acceptance criteria coverage
- AC1 (topology defines owner/supervisor/strategy/restart intensity): validated in `test/specs/story_00_runtime_topology_and_slos_test.exs:50`.
- AC2 (crash matrix with fatal/recoverable/degraded + handling): validated in `test/specs/story_00_runtime_topology_and_slos_test.exs:89`.
- AC3 (SLO baselines + pressure thresholds + telemetry dimensions): validated in `test/specs/story_00_runtime_topology_and_slos_test.exs:128`.
- AC4 (partitioning/sharding guidance for hot-path workers): doc updated at `specs/stories/00-runtime-topology-and-slos.md:94`; validated in `test/specs/story_00_runtime_topology_and_slos_test.exs:178`.
- Verification edge path (block missing crash/topology semantics): validated in `test/specs/story_00_runtime_topology_and_slos_test.exs:215`.
- Evidence of done (traceability row + downstream references): validated in `test/specs/story_00_runtime_topology_and_slos_test.exs:233` and `test/specs/story_00_runtime_topology_and_slos_test.exs:240`.

4) blockers/assumptions
- Blockers: none.
- Assumption: ingest policy execution is part of expected hot-path worker partitioning for `ST-OCM-000`, so it was added explicitly to Story 00 guidance.
Running ExUnit with seed: 513503, max_cases: 20
Excluding tags: [:flaky]

...........................................................................................................................................................................................................................................................................*........................................................................................................................................................................................................................................................*......................................................***.................................................
Finished in 2.2 seconds (0.5s async, 1.6s sync)
623 tests, 0 failures, 5 skipped
1) changed files
- `lib/jido_messaging/channel.ex`
- `lib/jido_messaging/capabilities.ex`
- `lib/jido_messaging/plugin.ex`
- `lib/jido_messaging/channels/telegram.ex`
- `lib/jido_messaging/channels/discord.ex`
- `lib/jido_messaging/channels/slack.ex`
- `lib/jido_messaging/channels/whatsapp.ex`
- `test/jido_messaging/channel_test.exs`
- `test/jido_messaging/capabilities_test.exs`

2) tests/commands executed
- `mix format`
- `mix test test/jido_messaging/channel_test.exs test/jido_messaging/capabilities_test.exs test/jido_messaging/channels/telegram_test.exs test/jido_messaging/channels/discord_test.exs test/jido_messaging/channels/slack_test.exs test/jido_messaging/channels/whatsapp_test.exs`
- `mix test test/jido_messaging/channel_test.exs test/jido_messaging/capabilities_test.exs`
- `mix precommit` (final run passing: `629 tests, 0 failures, 5 skipped`)

3) acceptance criteria coverage
- AC1: New callbacks are optional with deterministic defaults.
  - Added v2 optional callbacks and default wrappers in `JidoMessaging.Channel` (`listener_child_specs`, `extract_routing_metadata`, `verify_sender`, `sanitize_outbound`, `send_media`, `edit_media`, `extract_command_hint`, `edit_message`).
  - Covered in `test/jido_messaging/channel_test.exs` (`v2 optional callbacks default deterministically for v1-only channels`).
- AC2: First-party channels compile and existing behavior tests remain green.
  - First-party modules updated to `use JidoMessaging.Channel`.
  - `mix precommit` passes with all tests green.
- AC3: Capability declarations align with callback support and are testable.
  - Added `Channel.validate_capability_contract/1` with typed failures.
  - Added compile-time enforcement for modules using `use JidoMessaging.Channel`.
  - Added `:message_edit` only on channels that implement `edit_message/4` (Telegram/Discord/Slack).
  - Covered in `test/jido_messaging/channel_test.exs` (aligned/mismatch/unknown capability tests + first-party validation test).
- AC4: Callback failure classification is explicit.
  - Added typed callback failure envelope (`:class`, `:disposition`, `:reason`) and classification/disposition helpers.
  - Covered in `test/jido_messaging/channel_test.exs` (recoverable timeout => retry, raised exception => fatal/crash).

4) blockers/assumptions
- No blockers.
- Assumed capability atom names for v2 primitives from the story/spec text (no canonical atom list provided).
- Traceability row for `ST-OCM-001` already existed in `specs/stories/00_traceability_matrix.md`, so no matrix edit was needed.
Running ExUnit with seed: 195678, max_cases: 20
Excluding tags: [:flaky]

.................................................................................................................................................................................................................................................*........................................................................................................................................................................................................................................................................................*......................................................***.................................................
Finished in 2.3 seconds (0.5s async, 1.7s sync)
629 tests, 0 failures, 5 skipped
